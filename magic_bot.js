const TelegramBot = require('node-telegram-bot-api');

const token = '8596018406:AAFu9p79yTW3mRH4fTIAyE-XDXFzyTdO228'; 

const bot = new TelegramBot(token, {polling: true});

const answers = [
    "âœ… Ð”Ð°, ÑÑ‚Ð¾ Ñ‚Ð¾Ñ‡Ð½Ð¾!",
    "ðŸ’¯ Ð‘ÐµÐ· ÑÐ¾Ð¼Ð½ÐµÐ½Ð¸Ð¹.",
    "ðŸ’­ ÐœÐ½Ðµ ÐºÐ°Ð¶ÐµÑ‚ÑÑ, Ð´Ð°.",
    "â“ Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð²ÑÐµÐ³Ð¾.",
    "ðŸŒŸ Ð—Ð²ÐµÐ·Ð´Ñ‹ Ð³Ð¾Ð²Ð¾Ñ€ÑÑ‚ â€“ Ð”Ð°!",
    "ðŸ€ Ð¨Ð°Ð½ÑÑ‹ Ð¾Ñ‡ÐµÐ½ÑŒ Ð²Ñ‹ÑÐ¾ÐºÐ¸.",
    "ðŸ‘ ÐžÐ´Ð½Ð¾Ð·Ð½Ð°Ñ‡Ð½Ð¾.",
    "â˜€ï¸ Ð¢Ñ‹ Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð½Ð° ÑÑ‚Ð¾ Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ.",
    "â¬†ï¸ Ð’ÑÐµÐ»ÐµÐ½Ð½Ð°Ñ Ð¾Ð´Ð¾Ð±Ñ€ÑÐµÑ‚.",
    "âœ… ÐœÐ¾Ð¶ÐµÑˆÑŒ Ð½Ðµ ÑÐ¾Ð¼Ð½ÐµÐ²Ð°Ñ‚ÑŒÑÑ.",
    "âœ¨ Ð˜ÑÑ…Ð¾Ð´ Ð±Ð»Ð°Ð³Ð¾Ð¿Ñ€Ð¸ÑÑ‚ÐµÐ½.",
    "ðŸŽ‰ ÐÐ±ÑÐ¾Ð»ÑŽÑ‚Ð½Ð¾.",
    "ðŸ‘‘ ÐÐµ ÑÐ¾Ð¼Ð½ÐµÐ²Ð°Ð¹ÑÑ Ð² ÑƒÑÐ¿ÐµÑ…Ðµ.",
    "ðŸŒ± Ð’ÑÐµ Ñ€Ð°ÑÑ‚ÐµÑ‚ Ð² Ñ‚Ð²Ð¾ÑŽ Ð¿Ð¾Ð»ÑŒÐ·Ñƒ.",
    "ðŸŽˆ Ð¡Ð°Ð¼Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ.",
    "ðŸ”® ÐŸÑ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ: Ð”Ð!",

    "ðŸ¤” Ð¡Ð¿Ñ€Ð¾ÑÐ¸ Ð¿Ð¾Ð·Ð¶Ðµ.",
    "â³ ÐŸÑ€Ð¸Ð´Ñ‘Ñ‚ÑÑ Ð¿Ð¾Ð´Ð¾Ð¶Ð´Ð°Ñ‚ÑŒ Ð¾Ñ‚Ð²ÐµÑ‚Ð°.",
    "ðŸ¤ Ð›ÑƒÑ‡ÑˆÐµ Ð½Ðµ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚ÑŒ ÑÐµÐ¹Ñ‡Ð°Ñ.",
    "ðŸ¤« ÐžÑ‚Ð²ÐµÑ‚ ÑÐºÑ€Ñ‹Ñ‚ Ñ‚ÑƒÐ¼Ð°Ð½Ð¾Ð¼.",
    "ðŸŒªï¸ ÐŸÐµÑ€ÐµÑ„Ð¾Ñ€Ð¼ÑƒÐ»Ð¸Ñ€ÑƒÐ¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ.",
    "ðŸŒ‘ Ð¡ÐµÐ¹Ñ‡Ð°Ñ Ð½Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð¾Ñ‚Ð²ÐµÑ‚Ð°.",
    "âš–ï¸ Ð¨Ð°Ð½ÑÑ‹ 50/50.",
    "â¸ï¸ ÐžÑ‚Ð²ÐµÑ‚ Ð½Ð° Ð¿Ð°ÑƒÐ·Ðµ.",
    "ðŸ¤ ÐœÐ°Ð»Ð¾Ð²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾, Ð½Ð¾ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾.",
    "ðŸŒ€ ÐŸÑƒÑ‚ÑŒ Ð½Ðµ ÑÑÐµÐ½.",
    "ðŸŒ«ï¸ ÐžÑ‚Ð²ÐµÑ‚ Ð¿Ð¾ÐºÐ° Ð½Ðµ ÑÑ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½.",
    "ðŸ‘‚ Ð¡Ð¿Ñ€Ð¾ÑÐ¸ ÐºÐ¾Ð³Ð¾-Ð½Ð¸Ð±ÑƒÐ´ÑŒ Ð´Ñ€ÑƒÐ³Ð¾Ð³Ð¾.",
    "ðŸ§  Ð—Ð°Ð´ÑƒÐ¼Ð°Ð¹ÑÑ Ð¾Ð± ÑÑ‚Ð¾Ð¼ ÑÐ°Ð¼.",
    "â¹ï¸ ÐžÑ‚Ð²ÐµÑ‚ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½.",
    
    "âŒ ÐÐµÑ‚.",
    "ðŸš« ÐžÑ‡ÐµÐ½ÑŒ ÑÐ¾Ð¼Ð½ÐµÐ²Ð°ÑŽÑÑŒ.",
    "ðŸ˜” ÐÐµ Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°Ð¹ Ð½Ð° ÑÑ‚Ð¾.",
    "ðŸ’€ ÐœÐ¾Ð¸ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¸ Ð³Ð¾Ð²Ð¾Ñ€ÑÑ‚: Ð½ÐµÑ‚.",
    "ðŸ“‰ Ð’ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ Ð½Ð¸Ð·ÐºÐ°Ñ.",
    "â„ï¸ Ð˜ÑÑ…Ð¾Ð´ Ð±ÑƒÐ´ÐµÑ‚ Ð¾Ñ‚Ñ€Ð¸Ñ†Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¼.",
    "ðŸŒ§ï¸ ÐÐµ Ð² ÑÑ‚Ð¾Ñ‚ Ñ€Ð°Ð·.",
    "ðŸ‘Ž Ð—Ð°Ð±ÑƒÐ´ÑŒ Ð¾Ð± ÑÑ‚Ð¾Ð¼.",
    "â¬‡ï¸ ÐÐµ Ð² ÑÑ‚Ð¾Ð¹ Ð¶Ð¸Ð·Ð½Ð¸.",
    "â›” ÐœÐ¾Ð¶ÐµÑˆÑŒ Ð´Ð°Ð¶Ðµ Ð½Ðµ Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ‚ÑŒ.",
    "ðŸ¤·â€â™€ï¸ ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ Ñ‡Ñ‚Ð¾-Ð½Ð¸Ð±ÑƒÐ´ÑŒ Ð´Ñ€ÑƒÐ³Ð¾Ðµ.",
    "ðŸ›‘ ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸ Ð½ÐµÑ‚.",
    "ðŸ’£ ÐžÑ‚Ð²ÐµÑ‚ Ð¾Ñ‚Ñ€Ð¸Ñ†Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¸ Ð¾Ð¿Ð°ÑÐ½Ñ‹Ð¹.",
    "ðŸ“‰ ÐŸÐ°Ð´ÐµÐ½Ð¸Ðµ Ð²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚Ð¸.",
    "âŒ ÐœÐ¾Ð¶ÐµÑˆÑŒ Ð´Ð°Ð¶Ðµ Ð½Ðµ Ð¿Ñ‹Ñ‚Ð°Ñ‚ÑŒÑÑ.",
    "ðŸ—¿ Ð¢Ñ‹ ÑÐ°Ð¼ Ð·Ð½Ð°ÐµÑˆÑŒ Ð¾Ñ‚Ð²ÐµÑ‚.",
    "ðŸ˜´ Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð¿Ð¾Ð·Ð´Ð½Ð¾/Ñ€Ð°Ð½Ð¾.",
    "ðŸ’¥ Ð‘ÑƒÐ´ÐµÑ‚ Ð¿Ð»Ð¾Ñ…Ð¾.",
    "ðŸ”¥ ÐžÑ‚Ð²ÐµÑ‚ ÑÐ³Ð¾Ñ€ÐµÐ».",
    "ðŸŽ² ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ Ð² Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ñ€Ð°Ð·.",
];

bot.onText(/\/start/, (msg) => {
    const chatId = msg.chat.id;
    const botName = msg.from.username || 'MadierRandomizerBot';
    const welcomeMessage = `ðŸ”® ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð¯ â€” ÐœÐ°Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¨Ð°Ñ€ "${botName}". Ð—Ð°Ð´Ð°Ð¹ Ð¼Ð½Ðµ Ð²Ð¾Ð¿Ñ€Ð¾Ñ, Ð½Ð° ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚Ð¸Ñ‚ÑŒ "Ð´Ð°" Ð¸Ð»Ð¸ "Ð½ÐµÑ‚", Ð¸ Ñ Ð´Ð°Ð¼ Ñ‚ÐµÐ±Ðµ Ð¾Ñ‚Ð²ÐµÑ‚!`;
    bot.sendMessage(chatId, welcomeMessage);
});

bot.on('new_chat_members', (msg) => {
    const isBotAdded = msg.new_chat_members.some(member => member.id === bot.options.id);

    if (isBotAdded) {
        const chatId = msg.chat.id;
        const botName = msg.from.username || 'MadierRandomizerBot';
        const welcomeMessage = `ðŸ”® ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð¯ â€” ÐœÐ°Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¨Ð°Ñ€ "${botName}". Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾, Ñ‡Ñ‚Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð¸Ð»Ð¸ Ð¼ÐµÐ½Ñ! Ð¯ Ð³Ð¾Ñ‚Ð¾Ð² Ð¾Ñ‚Ð²ÐµÑ‡Ð°Ñ‚ÑŒ Ð½Ð° Ð²Ð°ÑˆÐ¸ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹. ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ð·Ð°Ð´Ð°Ð¹Ñ‚Ðµ Ð¼Ð½Ðµ Ð²Ð¾Ð¿Ñ€Ð¾Ñ, Ð½Ð° ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚Ð¸Ñ‚ÑŒ "Ð´Ð°" Ð¸Ð»Ð¸ "Ð½ÐµÑ‚"!`;
        
        bot.sendMessage(chatId, welcomeMessage);
    }
});

bot.on('message', (msg) => {
    const chatId = msg.chat.id;
    
    if (!msg.text || msg.text.startsWith('/')) {
        return;
    }
    
    const randomAnswer = answers[Math.floor(Math.random() * answers.length)];
    
    bot.sendMessage(chatId, randomAnswer, {
        reply_to_message_id: msg.message_id
    });
});


console.log('Ð‘Ð¾Ñ‚ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½ Ð¸ Ð¾Ð¶Ð¸Ð´Ð°ÐµÑ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹...');
const express = require("express");
const app = express();
const port = process.env.PORT || 3000;

app.get("/", (req, res) => {
  res.send("Telegram Bot is running!");
});

app.listen(port, () => {
  console.log(Web server listening at port ${port});
});


